@reference "tailwindcss";

@custom-variant shape-sharp (&.shape-sharp);
@custom-variant shape-rounded (&.shape-rounded);
@custom-variant shape-circular (&.shape-circular);

@custom-variant fill-solid (&.fill-solid);
@custom-variant fill-tonal (&.fill-tonal);
@custom-variant fill-surface (&.fill-surface);
@custom-variant fill-outline (&.fill-outline);
@custom-variant fill-clear (&.fill-clear);
@custom-variant fill-text (&.fill-text);

@custom-variant size-xs (&.size-xs);
@custom-variant size-sm (&.size-sm);
@custom-variant size-md (&.size-md);
@custom-variant size-lg (&.size-lg);
@custom-variant size-xl (&.size-xl);

@custom-variant block-button (&.block-button);

@custom-variant icon-only (&.icon-only);

@custom-variant svg (:where(svg));

@layer components {
  .nova-button {
    --transition-properties: background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform;

    @apply inline-flex appearance-none items-center justify-center select-none relative whitespace-nowrap align-middle border-1 border-transparent cursor-pointer outline-0 leading-[1.2] isolate font-medium transition-(--transition-properties) duration-200;

    @variant disabled {
      @apply pointer-events-none opacity-50;
    }

    @variant shape-sharp {
      @apply rounded-none;
    }

    @variant shape-rounded {
      @apply rounded-sm;
    }

    @variant shape-circular {
      @apply rounded-full;
    }

    @variant fill-solid {
      @apply bg-(--nova-color-palette-solid) text-(--nova-color-palette-contrast) border-transparent;

      @variant not-disabled {
        @variant hover {
          @apply bg-(--nova-color-palette-solid)/90;
        }

        @variant aria-expanded {
          @apply bg-(--nova-color-palette-solid)/90;
        }
      }
    }

    @variant fill-tonal {
      @apply bg-(--nova-color-palette-subtle) text-(--nova-color-palette-fg) border-transparent;

      @variant not-disabled {
        @variant hover {
          @apply bg-(--nova-color-palette-muted);
        }

        @variant aria-expanded {
          @apply bg-(--nova-color-palette-muted);
        }
      }
    }

    @variant fill-surface {
      --shadow-color: var(--nova-color-palette-muted);
      --button-shadow: 0 0 0 1px var(--shadow-color);

      @apply bg-(--nova-color-palette-subtle) text-(--nova-color-palette-fg) shadow-(--button-shadow) border-transparent;

      @variant not-disabled {
        @variant hover {
          @apply bg-(--nova-color-palette-muted);
        }

        @variant aria-expanded {
          @apply bg-(--nova-color-palette-muted);
        }
      }
    }

    @variant fill-outline {
      @apply border-(--nova-color-palette-muted) text-(--nova-color-palette-fg);

      @variant not-disabled {
        @variant hover {
          @apply bg-(--nova-color-palette-subtle);
        }

        @variant aria-expanded {
          @apply bg-(--nova-color-palette-subtle);
        }
      }
    }

    @variant fill-clear {
      @apply bg-transparent text-(--nova-color-palette-fg);

      @variant not-disabled {
        @variant hover {
          @apply bg-(--nova-color-palette-subtle);
        }

        @variant aria-expanded {
          @apply bg-(--nova-color-palette-subtle);
        }
      }
    }

    @variant fill-text {
      @apply text-(--nova-color-palette-fg);
    }

    @variant size-xs {
      @apply h-8 min-w-8 text-xs px-2.5 gap-1;

      @variant svg {
        @apply text-[1.2em] shrink-0 size-4;
      }
    }

    @variant size-sm {
      @apply h-9 min-w-9 text-sm px-3.5 gap-2;

      @variant svg {
        @apply text-[1.2em] shrink-0 size-4;
      }
    }

    @variant size-md {
      @apply h-10 min-w-10 text-sm px-4 gap-2;

      @variant svg {
        @apply text-[1.2em] shrink-0 size-5;
      }
    }

    @variant size-lg {
      @apply h-11 min-w-11 text-base px-5 gap-3;

      @variant svg {
        @apply text-[1.2em] shrink-0 size-5;
      }
    }

    @variant size-xl {
      @apply h-12 min-w-12 text-base px-5 gap-2.5;

      @variant svg {
        @apply text-[1.2em] shrink-0 size-5;
      }
    }

    @variant block-button {
      @apply flex w-full;
    }

    @variant icon-only {
      @apply p-0;

      .hamburger-icon, .close-icon {
        @apply fill-current;
      }
    }
  }

  .nova-button .loading-content {
    @apply contents;
  }

  .nova-button .loading-content .spinner-wrapper {
    @apply absolute inline-flex items-center justify-center start-1/2 top-1/2 -translate-1/2;
  }

  .nova-button .loading-content .text-wrapper {
    @apply invisible contents;
  }
}
